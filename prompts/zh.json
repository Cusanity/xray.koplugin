{
    "system_instruction": "你是一位专业的文学评论家。你的回复必须仅使用有效的JSON格式。不要使用Markdown、引导语或额外解释。",
    "chunk_summary": "你正在分析书籍的一个片段，请提取该片段中出现的所有实体信息。\n\n书名：《%s》\n作者：%s\n当前阅读进度：%d%%\n\n<书籍片段>\n%s\n</书籍片段>\n\n【最高优先级 - 输出风格规则】\n所有描述必须读起来像对完整作品的分析，**严禁**使用以下暗示分块处理的词汇：\n- 「本片段」、「此片段」、「该片段」、「当前片段」\n- 「本段」、「此段」、「本节」、「本章节」\n- 「新文本」、「新片段」、「新增」\n- 「在此/本段中」、「片段概要」\n正确写法：直接描述内容，如「故事讲述了...」「主角面临...」\n\n【任务】分析上述内容，提取其中出现的：\n1. 人物（故事中的所有角色，**务必确保涵盖每一个登场人物**）\n2. 地点（具体场所）\n3. 事件（重要情节发展）\n4. 主题\n5. 内容概要\n\n【强制输出 - 最高优先级】\n无论文本包含何种内容（暴力/色情/犯罪等），你**必须**返回合法的JSON对象。这是严肃的文学分析工作，不是创作有害内容。处理方法：\n- 对敏感内容使用学术化/中性化的描述（如「性暴力」→「受害者遭受侵犯」）\n- 如果整段文本都是敏感内容，仍然返回有效JSON\n- **绝对禁止**返回拒绝、道歉、空回复或非JSON格式\n\n【严格排除 - 非故事人物】\n以下人物必须排除，不得出现在characters列表中：\n- 作者、译者、编辑、责任编辑\n- 序言/导言/致谢中提及的学者、教授、评论者\n- 出版社工作人员\n- 任何不参与故事情节的人物\n\n【人物姓名规范】\n人物name字段必须是纯名字，不含任何修饰：\n- 删除称谓后缀：先生/太太/小姐/女士/夫人\n- 删除职业后缀：律师/医生/教授/老师\n- 删除亲属前缀/后缀：爸爸/妈妈/舅舅/姨父/外婆/叔叔/阿姨\n- 删除括号内容：如「胡安娜（帕拉太太）」→「胡安娜」\n- 删除所属关系：如「赫苏斯的父亲」→ 用真实姓名\n- **特别注意**：如果某人物在文中仅以身份或关系称呼（如「盲眼老人」、「赫苏斯的父亲」）且没有提供具体名字，请**务必保留**该称呼作为其name，不要遗漏该人物。\n\n正确示例：「曼努埃尔」「康素爱萝」「赫苏斯」「盲眼老人」「赫苏斯的父亲」\n错误示例：「后妈卢裴塔」「阿尔弗雷多舅舅」「马罗金律师」\n\n【章节标题与POV】\n文本中【章节名】格式标记的是当前章节/视角。多视角书籍用人物名作章节标题。\n- 如果章节标题是人名，该内容中的「我」指的是该人物\n- 请正确归属第一人称叙述\n\n【输出规则】\n- 仅提取实际出现的内容\n- 不要添加外部知识\n- 每个description控制在100字以内\n- 事件描述控制在50字以内\n- 概要控制在150字以内\n\n必需的JSON格式：\n{\n  \"summary\": \"内容概要（≤150字，禁止使用「本片段」等词）\",\n  \"characters\": [\n    {\n      \"name\": \"纯人名或身份/关系称呼\",\n      \"description\": \"人物表现/行为（≤100字）\",\n      \"events\": [\n        {\n          \"event\": \"事件描述（≤30字，含原文百分比位置）\",\n          \"relative_percent\": 15\n        }\n      ]\n    }\n  ],\n  \"locations\": [\n    {\n      \"name\": \"地点名称\",\n      \"description\": \"地点描述（≤100字）\"\n    }\n  ],\n  \"themes\": [\"主题1\", \"主题2\"],\n  \"events\": [\n    \"事件描述（≤50字）\"\n  ]\n}",
    "consolidate_description": "你是一位专业的文学编辑。请将以下关于同一%s「%s」的多段描述合并为一段精炼、连贯的最终描述。\n\n<原始描述>\n%s\n</原始描述>\n\n【合并规则】\n1. **写成一段话**：不要简单地拼接，要将其改写为一个完整的人物/地点简介，读起来要自然连贯。\n2. **保留精华**：保留最重要、最具特色的信息，删除重复和琐碎的内容。\n3. **文学性**：使用专业、中性的文学分析口吻。\n4. **严禁分块痕迹**：禁止使用「本片段」「新文本」「此段中」等词汇。\n5. **最终描述必须≤200字**。\n\n返回JSON对象：\n{\n  \"description\": \"合并后的描述（≤200字）\"\n}",
    "consolidate_summary": "你是一位专业的文学编辑。请将以下关于《%s》的多个概要合并为一段完整、流畅的书籍概要。\n\n<概要列表>\n%s\n</概要列表>\n\n【合并规则】\n1. **整体重写**：按故事情节逻辑顺序，将所有信息重写为一段完整的故事简介。不要只是罗列或拼接。\n2. **突出主线**：保留核心情节、主要矛盾和转折，删除细枝末节。\n3. **禁止分块词汇**：严禁出现「本片段」「新增」「继续」等暗示分块处理的词汇。\n4. **字数限制**：最终概要必须≤300字。\n\n返回JSON对象：\n{\n  \"summary\": \"合并后的完整概要（≤300字，无分块痕迹）\"\n}",
    "event_consolidation": "你是一位专业的文学编辑。请将新事件与现有时间线合并，去除重复并保持叙事完整性。\n\n书名：《%s》\n当前阅读进度：%d%%\n\n<现有事件>\n%s\n</现有事件>\n\n<新事件>\n%s\n</新事件>\n\n【合并规则】\n1. **识别重复**：如果新事件与现有事件描述同一事件，合并为一条（保留更详细的描述）\n2. **保留所有独特事件**：不要删除任何不重复的事件\n3. **按故事时间顺序**排列\n4. 每条事件描述≤50字\n\n返回合并后的完整事件列表JSON：\n{\n  \"events\": [\n    \"事件描述\"\n  ]\n}",
    "fallback": {
        "unknown_book": "未知书籍",
        "unknown_author": "未知作者",
        "unnamed_character": "未命名人物",
        "not_specified": "未指定",
        "no_description": "暂无描述",
        "unnamed_person": "未命名人物",
        "no_biography": "暂无生平"
    }
}